---
import { Icon } from 'astro-icon/components';
import { Image } from 'astro:assets';
import Appearences from '~/components/Appearences.astro';
import Endorsements from '~/components/Endorsements.astro';
import Projects from '~/components/Projects.astro';
import Button from '~/components/ui/Button.astro';
import SectionHeader from '~/components/ui/SectionHeader.astro';
import DefaultLayout from '~/layouts/DefaultLayout.astro';

import { getCollection } from 'astro:content';
import sandeepPandaImg from '~/assets/images/endorsements/sandeep-panda.jpg';
import volkerKlattImg from '~/assets/images/endorsements/volker-klatt.png';
import haraldBantImg from '~/assets/images/endorsements/harald-bant.png';
import jannikWempeImg from '~/assets/images/jannik-wempe.png';
import BlogPostCard from '~/components/BlogPostCard.astro';
import WebSiteJsonLd from '~/components/WebSiteJsonLd.astro';
import { EMAIL } from '~/constants/socials';
import { newestFirst } from '~/lib/blog';
// prerender the page and have dynamic content as server islands
export const prerender = true;

const endorsements = [
	{
		text: "We have been working with Jannik Wempe in the area of our website programming for many years. He has extensive expertise in this field and is always very solution-oriented. He always keeps his appointment commitments, and he responds very quickly to spontaneous inquiries and change requests. I enjoy working with Jannik - it's fun, and the result of his work exceeds our expectations.",
		author: {
			name: 'Volker Klatt',
			social: 'https://www.linkedin.com/in/volkerklatt/',
		},
		role: {
			text: 'Managing Director',
			companyName: 'easy data solution GmbH',
			companyUrl: 'https://www.easydatasolution.de',
		},
		relation: 'client',
		imageUrl: volkerKlattImg,
	},
	{
		text: 'Jannik is one of the smartest engineers I’ve worked with. He deeply understands problems, asks the right questions, and delivers high quality solutions quickly — exactly what a fast-moving startup needs. He’s an invaluable asset to any team.',
		author: {
			name: 'Sandeep Panda',
			social: 'https://x.com/Sandeepg33k',
		},
		role: {
			text: 'Co-founder & CTO',
			companyName: 'Hashnode',
			companyUrl: 'https://hashnode.com',
		},
		relation: 'boss at Hashnode',
		imageUrl: sandeepPandaImg,
	},
	{
		text: "We have been working with Jannik for several years. He developed our website and maintains and updates it as needed. In addition to his expertise, he is a good listener, can put himself in the customer's shoes and therefore comes up with quick and adequate solutions or adjustments. A man's a man's a word, a word, that sums up Jannik Wempe perfectly. You are in professional and trusted hands.",
		author: {
			name: 'Harald Bant',
			social: 'https://www.linkedin.com/in/harald-bant-6416943/',
		},
		role: {
			text: 'Co-founder',
			companyName: 'ESP Science & Education OG',
			companyUrl: 'https://espse.eu',
		},
		relation: 'client',
		imageUrl: haraldBantImg,
	},
] as const;

const latestBlogPosts = (await getCollection('blog')).sort(newestFirst).slice(0, 4);

const breadcrumbItems = [{ label: 'Home', href: '/', current: true }];
---

<DefaultLayout
	metadata={{
		title: 'Jannik Wempe | Passionate Software Engineer',
		description:
			'Full-stack software engineer crafting high-impact web solutions. From frontend development to serverless architectures, I build scalable applications that solve real business challenges.',
	}}
	{breadcrumbItems}
>
	<Fragment slot="header">
		<WebSiteJsonLd {breadcrumbItems} />
	</Fragment>
	<main>
		<section class="relative flex justify-between overflow-hidden">
			{/* Enhanced background with mesh gradient effect */}
			<div class="absolute inset-0 -z-10 bg-gradient-to-br from-slate-50 via-blue-50/80 to-indigo-100">
				{/* Animated gradient orbs - more visible */}
				<div class="absolute -top-20 -left-20 h-[600px] w-[600px] rounded-full bg-gradient-to-br from-blue-200/70 to-indigo-300/50 blur-3xl"></div>
				<div class="absolute top-20 -right-20 h-[500px] w-[500px] rounded-full bg-gradient-to-bl from-indigo-200/60 to-purple-300/40 blur-3xl"></div>
				<div class="absolute -bottom-40 left-1/4 h-[400px] w-[400px] rounded-full bg-gradient-to-t from-blue-200/50 to-cyan-200/30 blur-3xl"></div>
				{/* Subtle dot pattern */}
				<div
					class="absolute inset-0 opacity-50"
					style={{
						backgroundImage: `radial-gradient(circle at 1px 1px, rgb(99 102 241 / 0.2) 1px, transparent 0)`,
						backgroundSize: '32px 32px',
					}}
				>
				</div>
			</div>

			<div class="relative container mx-auto overflow-hidden pt-20 pb-32">
				<div class="flex flex-col items-center justify-between gap-16 lg:flex-row lg:items-start">
					<div class="mt-4 max-w-2xl">
						<div class="inline-flex items-center gap-2 rounded-full border border-indigo-200 bg-white/80 px-4 py-1.5 text-sm font-semibold text-indigo-700 shadow-sm backdrop-blur-sm">
							<span class="relative flex h-2 w-2">
								<span class="absolute inline-flex h-full w-full animate-ping rounded-full bg-indigo-400 opacity-75"></span>
								<span class="relative inline-flex h-2 w-2 rounded-full bg-indigo-500"></span>
							</span>
							Available for projects
						</div>
						<h2 class="mt-6 text-4xl font-extrabold tracking-tight text-slate-900 sm:text-5xl lg:text-6xl">
							Crafting Full-Stack<br />
							<span class="bg-gradient-to-r from-indigo-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent">Solutions That Matter</span>
						</h2>
						<p class="mt-6 max-w-xl text-lg leading-relaxed text-slate-600">
							Drawing from experience across modern web technologies, cloud platforms, and system architecture, I build
							end-to-end solutions that create lasting value. My passion for learning and natural curiosity drive me to
							stay at the forefront of technological innovation.
						</p>
						<div class="mt-8 flex flex-wrap items-center gap-4">
							<Button
								as="a"
								href={`mailto:${EMAIL}`}
								color="primary"
								variant="solid"
								size="lg"
								class="plausible-event-name=contact plausible-event-type=email group shadow-lg shadow-indigo-500/25 transition-all hover:shadow-xl hover:shadow-indigo-500/30"
							>
								Get in touch
								<Icon
									name="lucide:mail"
									slot="icon-right"
									class="transition-transform group-hover:translate-x-0.5"
								/>
							</Button>
							<Button
								as="a"
								href="/cv"
								color="secondary"
								variant="outline"
								size="lg"
								class="group"
							>
								View my CV
								<Icon
									name="lucide:arrow-right"
									slot="icon-right"
									class="transition-transform group-hover:translate-x-1"
								/>
							</Button>
						</div>
					</div>

					<div class="relative">
						{/* Decorative elements behind image */}
						<div class="absolute -inset-8 -z-10 rounded-3xl bg-gradient-to-br from-indigo-500/30 to-blue-500/20 blur-2xl"></div>
						<div class="absolute -top-4 -right-4 h-20 w-20 rounded-full border-[3px] border-indigo-300/70 bg-indigo-50/30"></div>
						<div class="absolute -bottom-3 -left-3 h-14 w-14 rounded-full border-[3px] border-blue-300/70 bg-blue-50/30"></div>
						<div class="absolute top-1/2 -right-8 h-8 w-8 rounded-full bg-gradient-to-br from-indigo-400/40 to-indigo-500/30"></div>

						<div class="relative">
							<div
								class="aspect-square w-[340px] max-w-[80vw] overflow-hidden rounded-2xl shadow-2xl ring-1 ring-slate-900/5 sm:w-[380px]"
							>
								<Image
									src={jannikWempeImg}
									alt="Portrait of Jannik Wempe"
									width={380}
									height={380}
									format="avif"
									loading={'eager'}
									class="h-full w-full object-cover"
								/>
							</div>
							<h1 aria-label="Jannik Wempe" class="absolute -bottom-4 -right-4 rounded-2xl bg-white px-5 py-2.5 shadow-xl shadow-indigo-200/50 ring-1 ring-slate-900/5">
								<span class="bg-gradient-to-r from-slate-900 to-slate-700 bg-clip-text text-lg font-bold text-transparent">Jannik Wempe</span>
							</h1>
						</div>
					</div>
				</div>
			</div>
			{/* Bottom wave divider */}
			<div class="absolute bottom-0 left-0 right-0 overflow-hidden leading-none">
				<svg class="relative block w-full h-12" viewBox="0 0 1200 120" preserveAspectRatio="none" fill="white">
					<path d="M0,60 C300,100 600,20 900,60 C1050,80 1150,70 1200,60 L1200,120 L0,120 Z"></path>
				</svg>
			</div>
		</section>

		<section class="relative py-24">
			{/* Subtle background */}
			<div class="absolute inset-0 -z-10 bg-gradient-to-b from-white via-slate-50/50 to-white"></div>
			<div class="container mx-auto">
				<SectionHeader
					label="Testimonials"
					title="What Others Say About Me"
					description="Don't just take my word for it — hear from colleagues and clients I've worked with."
				/>
				<Endorsements {endorsements} class="mt-12" />
			</div>
		</section>

		<section class="relative py-24 overflow-hidden">
			{/* Background decoration */}
			<div class="absolute inset-0 -z-10">
				<div class="absolute top-0 left-0 h-[600px] w-[600px] -translate-x-1/2 -translate-y-1/2 rounded-full bg-gradient-to-br from-indigo-50 to-blue-50 blur-3xl"></div>
				<div class="absolute right-0 bottom-0 h-[400px] w-[400px] translate-x-1/3 translate-y-1/3 rounded-full bg-gradient-to-tl from-indigo-50 to-purple-50 blur-3xl"></div>
			</div>
			<div class="container mx-auto">
				<SectionHeader
					label="Portfolio"
					title="Public Projects"
				>
					<p class="mt-4 text-lg text-slate-600">
						A selection of projects I've built outside my day job with commercial intent.
						<a href="/cv" class="font-medium text-indigo-600 hover:text-indigo-500">View my CV</a> for client work.
					</p>
				</SectionHeader>
				<Projects class="mt-12" />
			</div>
		</section>

		<section class="relative py-24">
			<div class="absolute inset-0 -z-10 bg-gradient-to-b from-white via-slate-50/30 to-white"></div>
			<div class="container mx-auto">
				<SectionHeader
					label="Blog"
					title="Latest Blog Posts"
					description="Thoughts on software engineering, cloud architecture, and building products."
				/>

				<div class="mt-12 grid grid-cols-1 gap-8 md:grid-cols-2">
					{latestBlogPosts.map((post) => <BlogPostCard post={post} />)}
				</div>
				<div class="mt-12 text-center">
					<Button as="a" color="primary" variant="solid" size="lg" href="/blog" class="group shadow-lg shadow-indigo-500/25 transition-all hover:shadow-xl hover:shadow-indigo-500/30">
						See all posts
						<Icon name="lucide:arrow-right" slot="icon-right" class="transition-transform group-hover:translate-x-1" />
					</Button>
				</div>
			</div>
		</section>

		<section class="relative py-24 overflow-hidden">
			{/* Background */}
			<div class="absolute inset-0 -z-10">
				<div class="absolute bottom-0 left-1/4 h-[400px] w-[400px] rounded-full bg-gradient-to-t from-indigo-50/60 to-transparent blur-3xl"></div>
			</div>
			<div class="container mx-auto">
				<SectionHeader
					label="Speaking"
					title="Tech Talks & Podcasts"
					description="Sharing knowledge through conferences and podcast appearances."
				/>
				<Appearences class="mt-12" />
			</div>
		</section>
	</main>
</DefaultLayout>
