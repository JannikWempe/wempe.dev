---
import type { CollectionEntry } from 'astro:content';
import { Schema } from 'astro-seo-schema';
import { SITE_BASE_URL } from '~/constants/site';

interface Props {
	post: CollectionEntry<'blog'>;
}

const { post } = Astro.props;

const postUrl = new URL(`/blog/${post.id}`, Astro.site).toString();
---

<Schema
	item={{
		'@context': 'https://schema.org',
		'@type': 'BlogPosting',
		headline: post.data.title,
		author: {
			'@type': 'Person',
			name: 'Jannik Wempe',
			url: SITE_BASE_URL,
		},
		// TODO: add image
		// image: post.data.cover,
		datePublished: post.data.datePublished.toISOString(),
		dateCreated: post.data.datePublished.toISOString(),
		description: post.data.excerpt,
		url: postUrl,
		'inLanguage ': 'en-US',
		mainEntityOfPage: {
			'@type': 'WebPage',
			'@id': postUrl,
		},
	}}
/>
