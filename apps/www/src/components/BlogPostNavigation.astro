---
import { Icon } from 'astro-icon/components';
import type { CollectionEntry } from 'astro:content';
import { twMerge } from 'tailwind-merge';

export interface Props {
	previousPost?: CollectionEntry<'blog'>;
	nextPost?: CollectionEntry<'blog'>;
	class?: string;
}

const { previousPost, nextPost, class: classes } = Astro.props;
---

<nav class={twMerge('grid grid-cols-1 md:grid-cols-2 gap-4', classes)}>
	{
		previousPost ? (
			<a
				href={`/blog/${previousPost.id}`}
				class="group flex items-center gap-3 rounded-xl border border-slate-200/60 bg-white p-4 shadow-sm transition-all duration-300 hover:border-indigo-200 hover:shadow-md hover:shadow-indigo-100/50"
			>
				<div class="flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-slate-100 text-slate-600 transition-colors group-hover:bg-indigo-100 group-hover:text-indigo-600">
					<Icon name="lucide:arrow-left" class="h-5 w-5" />
				</div>
				<div class="min-w-0">
					<span class="block text-xs font-medium uppercase tracking-wide text-slate-500">Previous</span>
					<span class="line-clamp-2 font-semibold text-slate-900 transition-colors group-hover:text-indigo-600">{previousPost.data.title}</span>
				</div>
			</a>
		) : <div />
	}
	{
		nextPost && (
			<a
				href={`/blog/${nextPost.id}`}
				class="group flex items-center gap-3 rounded-xl border border-slate-200/60 bg-white p-4 shadow-sm transition-all duration-300 hover:border-indigo-200 hover:shadow-md hover:shadow-indigo-100/50 md:flex-row-reverse md:text-right"
			>
				<div class="flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-slate-100 text-slate-600 transition-colors group-hover:bg-indigo-100 group-hover:text-indigo-600">
					<Icon name="lucide:arrow-right" class="h-5 w-5" />
				</div>
				<div class="min-w-0">
					<span class="block text-xs font-medium uppercase tracking-wide text-slate-500">Next</span>
					<span class="line-clamp-2 font-semibold text-slate-900 transition-colors group-hover:text-indigo-600">{nextPost.data.title}</span>
				</div>
			</a>
		)
	}
</nav>
