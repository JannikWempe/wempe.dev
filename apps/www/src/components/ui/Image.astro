---
import { Image as AstroImage } from 'astro:assets';
import type { ComponentProps } from 'astro/types';
import { config } from '~/constants/metadata';

type Props = ComponentProps<typeof AstroImage>;

const { src, ...rest } = Astro.props;
---

{
	typeof src === 'string' && src.startsWith(config.images.cdnPrefix) ? (
		<AstroImage {src} {...(rest as any)} />
	) : typeof src === 'string' && src.startsWith('http') ? (
		<img {src} {...rest} />
	) : (
		<AstroImage {src} {...(rest as any)} />
	)
}
