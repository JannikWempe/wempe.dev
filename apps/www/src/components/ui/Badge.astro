---
import type { HTMLTag, Polymorphic } from 'astro/types';
import { twMerge } from 'tailwind-merge';

type Props<T extends HTMLTag = 'span'> = Polymorphic<{ as: T }> & {
	variant?: keyof typeof variants;
	size?: 'sm' | 'md';
};

const {
	as: Tag = 'span' as any,
	variant = 'slate',
	size = 'md',
	class: classes = '',
	...rest
} = Astro.props;

const baseStyles =
	'inline-flex items-center font-medium rounded-full ring-1 ring-inset';

const variants = {
	slate: 'bg-slate-50 text-slate-700 ring-slate-600/10',
	indigo: 'bg-indigo-50 text-indigo-700 ring-indigo-600/10',
	blue: 'bg-blue-50 text-blue-700 ring-blue-600/10',
	purple: 'bg-purple-50 text-purple-700 ring-purple-600/10',
	green: 'bg-green-50 text-green-700 ring-green-600/10',
	yellow: 'bg-yellow-50 text-yellow-700 ring-yellow-600/10',
	orange: 'bg-orange-50 text-orange-700 ring-orange-600/10',
	pink: 'bg-pink-50 text-pink-700 ring-pink-600/10',
};

const sizes = {
	sm: 'px-2 py-0.5 text-xs gap-1',
	md: 'px-2.5 py-1 text-xs gap-1.5',
};
---

<Tag class={twMerge(baseStyles, variants[variant], sizes[size], classes)} {...rest}>
	<slot name="icon-left" />
	<slot />
	<slot name="icon-right" />
</Tag>
